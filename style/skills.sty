
%% Skill levels %%%%%%%%%%%%%%%%%
\newcommand{\Weak}{\textbf{Weak (-1)}\xspace}
\newcommand{\Untrained}{\textbf{Untrained (0)}\xspace}
\newcommand{\Novice}{\textbf{Novice (+1)}\xspace}
\newcommand{\Skilled}{\textbf{Skilled (+2)}\xspace}
\newcommand{\Expert}{\textbf{Expert (+3)}\xspace}
\newcommand{\Superior}{\textbf{Superior (+4)}\xspace}

\pgfkeys{/SkillsBox/.is family, /SkillsBox,
    weak/.store in = \SkillsBoxWeak,
    untrained/.store in = \SkillsBoxUntrained,
    novice/.store in = \SkillsBoxNovice,
    skilled/.store in = \SkillsBoxSkilled,
    expert/.store in = \SkillsBoxExpert,
    superior/.store in = \SkillsBoxSuperior,
}


\tcbset{
  skillsbox/.style={
    title=Skills,
    boxrule=0.6pt,
    shadow=small,
    width=\linewidth,
    fonttitle=\bfseries,
    colbacktitle=DmgLavender,
    coltitle=black,
    colback=white!97,
    colframe=black,
  }
}


%% Predefined macros for skill boxes
\newcommand{\SkillsBoxWeak}{}
\newcommand{\SkillsBoxUntrained}{}
\newcommand{\SkillsBoxNovice}{}
\newcommand{\SkillsBoxSkilled}{}
\newcommand{\SkillsBoxExpert}{}
\newcommand{\SkillsBoxSuperior}{}

\NewDocumentCommand{\OldSkillsBox}{O{}}{%

  \PackageWarning{Wyrd}{%
    \string\OldCommand\space is deprecated. Use SkillsBox environment instead.
  }

  % Reset macros to truly empty
  \renewcommand{\SkillsBoxWeak}{}%
  \renewcommand{\SkillsBoxUntrained}{}%
  \renewcommand{\SkillsBoxNovice}{}%
  \renewcommand{\SkillsBoxSkilled}{}%
  \renewcommand{\SkillsBoxExpert}{}%
  \renewcommand{\SkillsBoxSuperior}{}%
  %
  % Apply user-supplied values
  \pgfkeys{/SkillsBox, #1}%
  %
  \begin{center}
    \begin{tcolorbox}[skillsbox]
      \begin{tabular}{@{}l >{\raggedright\arraybackslash}p{0.7\linewidth}}
        \ifdefempty{\SkillsBoxSuperior}{}{\Superior: & \SkillsBoxSuperior \\}
        \ifdefempty{\SkillsBoxExpert}{}{\Expert: & \SkillsBoxExpert \\}
        \ifdefempty{\SkillsBoxSkilled}{}{\Skilled: & \SkillsBoxSkilled \\}
        \ifdefempty{\SkillsBoxNovice}{}{\Novice: & \SkillsBoxNovice \\}
        \ifdefempty{\SkillsBoxUntrained}{}{\Untrained: & \SkillsBoxUntrained \\}
        \ifdefempty{\SkillsBoxWeak}{}{\Weak: & \SkillsBoxWeak \\}
      \end{tabular}
    \end{tcolorbox}
  \end{center}
}


\NewDocumentEnvironment{SkillsBox}{}{%
  \begin{center}
    \begin{tcolorbox}[skillsbox]
      \begin{tabular}{@{}l >{\raggedright\arraybackslash}p{0.6\linewidth}}
}{
      \end{tabular}
    \end{tcolorbox}
  \end{center}
}
\NewDocumentEnvironment{ExpertSkills}{}{
  \Expert: & 
}{
  \\
}

%% Define commands for difficulty levels %%%%%%%%%%%%%%%%%
\newcommand{\DL}[1]{\textbf{#1}\xspace}
\newcommand{\Trivial}{\DL{Trivial (-3)}\xspace}
\newcommand{\Simple}{\DL{Simple (-2)}\xspace}
\newcommand{\Easy}{\DL{Easy (-1)}\xspace}
\newcommand{\Basic}{\DL{Basic (0)}\xspace}
\newcommand{\Challenging}{\DL{Challenging (+1)}\xspace}
\newcommand{\Difficult}{\DL{Difficult (+2)}\xspace}
\newcommand{\Formidable}{\DL{Formidable (+3)}\xspace}
\newcommand{\Arduous}{\DL{Arduous (+4)}\xspace}
\newcommand{\Extreme}{\DL{Extreme (+5)}\xspace}
\newcommand{\Legendary}{\DL{Legendary (+6)}\xspace}
\newcommand{\Impossible}{\DL{Impossible (+7)}\xspace}

